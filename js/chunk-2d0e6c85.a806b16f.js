(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e6c85"],{"99e4":function(t,e,c){"use strict";c.r(e);var a=c("7a23");const l={key:0,class:"column-detail-page w-75 mx-auto"},s={class:"column-info row mb-4 border-bottom pb-4 align-items-center"},n={class:"col-3 text-center"},o={class:"col-9"},i={class:"text-muted"},r={class:"d-flex justify-content-center w-100"};function u(t,e,c,u,b,d){const j=Object(a["P"])("post-list");return t.columnData?(Object(a["G"])(),Object(a["k"])("div",l,[Object(a["p"])("div",s,[Object(a["p"])("div",n,[Object(a["p"])("img",{src:t.columnData.avatar&&t.columnData.avatar.fitUrl,alt:t.columnData.title,class:"rounded-circle border "},null,8,["src","alt"])]),Object(a["p"])("div",o,[Object(a["p"])("h4",null,Object(a["T"])(t.columnData.title),1),Object(a["p"])("p",i,Object(a["T"])(t.columnData.description),1)])]),Object(a["p"])(j,{list:t.postsData},null,8,["list"]),Object(a["p"])("div",r,[t.isLastPage?Object(a["l"])("",!0):(Object(a["G"])(),Object(a["k"])("button",{key:0,class:"btn btn-primary w-25 mx-auto mb-5 mt-2",onClick:e[1]||(e[1]=(...e)=>t.loadMorePage&&t.loadMorePage(...e))},"点击"))]),Object(a["o"])(" "+Object(a["T"])(!t.isLastPage),1)])):Object(a["l"])("",!0)}const b={key:0},d={class:"card-body"},j={class:"row align-items-center my-3"},O={key:0,class:"col-4"},p={class:"text-muted"};function m(t,e,c,l,s,n){const o=Object(a["P"])("router-link");return t.list?(Object(a["G"])(),Object(a["k"])("div",b,[(Object(a["G"])(!0),Object(a["k"])(a["b"],null,Object(a["N"])(t.list,t=>(Object(a["G"])(),Object(a["k"])("div",{class:"card mb-3 shadow-sm",key:t._id},[Object(a["p"])("div",d,[Object(a["p"])(o,{to:"/postDetail/"+t._id,style:{"text-decoration":"none"},class:"text-muted"},{default:Object(a["fb"])(()=>[Object(a["p"])("h4",null,Object(a["T"])(t.title),1)]),_:2},1032,["to"]),Object(a["p"])("div",j,[t.image&&"string"!==typeof t.image?(Object(a["G"])(),Object(a["k"])("div",O,[Object(a["p"])("img",{src:t.image.url,class:"rounded-lg w-100",alt:t.title},null,8,["src","alt"])])):Object(a["l"])("",!0),Object(a["p"])("p",{class:{"col-9":t.image}},Object(a["T"])(t.excerpt),3)]),Object(a["p"])("span",p,Object(a["T"])(t.createdAt),1)])]))),128))])):Object(a["l"])("",!0)}var v=Object(a["q"])({name:"PostList",props:{list:{required:!0,type:Array}}});v.render=m;var g=v,P=c("6c02"),f=c("5502"),k=c("7759"),y=c("6ff3"),w=Object(a["q"])({name:"ColumnDetail",components:{PostList:g},setup:function(){var t,e=Object(P["c"])(),c=Object(f["b"])(),l=Object(a["L"])(e.params.id),s=Object(a["i"])((function(){return c.state.posts.total})),n=Object(a["i"])((function(){return c.state.posts.loadedColumns[l.value]})),o=Object(y["a"])("getColumnsPost",s,{currentPage:(null===(t=n.value)||void 0===t?void 0:t.currentPage)+1||2,pageSize:5,id:l.value}),i=o.loadMorePage,r=o.isLastPage;Object(a["D"])((function(){var t;c.dispatch("getColumnsOne",l.value),n.value&&Math.ceil(n.value.total/5)===n.value.currentPage||c.dispatch("getColumnsPost",{id:l.value,currentPage:(null===(t=n.value)||void 0===t?void 0:t.currentPage)||1,pageSize:5})}));var u=Object(a["i"])((function(){var t=c.getters.getColumnById(l.value);return t&&Object(k["a"])(t,100,100),t})),b=Object(a["i"])((function(){return c.getters.getPostsByCid(l.value)}));return{columnData:u,postsData:b,loadMorePage:i,isLastPage:r}}});w.render=u;e["default"]=w}}]);
//# sourceMappingURL=chunk-2d0e6c85.a806b16f.js.map